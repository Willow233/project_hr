(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a47dfd0"],{"1c75":function(e,t,r){"use strict";t["a"]={holidayType:[{id:"1",value:"事假"},{id:"0",value:"调休"}],leaveType:[{id:"1",value:"请假"},{id:"0",value:"调休"}],applyType:[{id:3,value:"离职"},{id:15,value:"加班"}]}},2506:function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"g",(function(){return n})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return c}));r("99af");var a=r("b775");function l(e){return Object(a["a"])({url:"/user/process/instance/".concat(e.page,"/").concat(e.pageSize),method:"put",data:e})}function o(e){return Object(a["a"])({url:"/user/process/instance/".concat(e)})}function s(e){return Object(a["a"])({url:"/user/process/definition",params:e})}function n(e){return Object(a["a"])({url:"/user/process/startProcess",data:e,method:"post"})}function i(e){return Object(a["a"])({url:"/user/approvals/".concat(e.id,"/reject"),method:"put",data:e})}function u(e){return Object(a["a"])({url:"/user/approvals/".concat(e),method:"delete"})}function c(e){return Object(a["a"])({url:"/user/process/instance/commit",method:"put",data:e})}},b4ef:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"dashboard-container"},[r("div",{staticClass:"app-container"},[r("el-card",[r("div",{staticClass:"usersContainer"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"status-icon":"","label-width":"110px",enctype:"multipart/form-data"}},[r("el-form-item",{attrs:{label:"假期类型",prop:"holidayType"}},[r("el-select",{staticStyle:{width:"220px"},attrs:{placeholder:"请选择"},on:{change:e.handleChange},model:{value:e.ruleForm.holidayType,callback:function(t){e.$set(e.ruleForm,"holidayType",t)},expression:"ruleForm.holidayType"}},e._l(e.baseData.leaveType,(function(e){return r("el-option",{key:e.id,attrs:{label:e.value,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"申请单位"}},[r("span",[e._v("按天")])]),r("el-form-item",{attrs:{label:"开始时间",prop:"startTime"}},[r("el-col",{attrs:{span:8}},[r("el-date-picker",{staticStyle:{width:"340px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},on:{change:e.getDuration},model:{value:e.ruleForm.startTime,callback:function(t){e.$set(e.ruleForm,"startTime",t)},expression:"ruleForm.startTime"}})],1)],1),r("el-form-item",{attrs:{label:"结束时间",prop:"endTime"}},[r("el-col",{attrs:{span:8}},[r("el-date-picker",{staticStyle:{width:"340px"},attrs:{type:"datetime","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择日期"},on:{change:e.getDuration},model:{value:e.ruleForm.endTime,callback:function(t){e.$set(e.ruleForm,"endTime",t)},expression:"ruleForm.endTime"}})],1)],1),r("el-form-item",{attrs:{label:"请假天数"}},[r("el-input",{staticStyle:{width:"340px"},attrs:{disabled:""},model:{value:e.ruleForm.duration,callback:function(t){e.$set(e.ruleForm,"duration",t)},expression:"ruleForm.duration"}})],1),r("el-form-item",{attrs:{label:"申请理由",prop:"reason"}},[r("el-input",{staticStyle:{width:"340px"},attrs:{type:"textarea",autosize:{minRows:3,maxRows:8},placeholder:"请输入内容"},model:{value:e.ruleForm.reason,callback:function(t){e.$set(e.ruleForm,"reason",t)},expression:"ruleForm.reason"}})],1),r("el-form-item",[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.$router.push("/dashboard")}}},[e._v("返回")])],1)],1)],1)])],1)])},l=[],o=r("c7eb"),s=r("1da1"),n=r("2506"),i=r("1c75"),u={name:"UsersTableIndex",data:function(){return{dialogImageUrl:"",dialogVisible:!1,state:"1",ruleForm:{startTime:"",endTime:"",reason:"",holidayType:"",duration:0,applyUnit:"按天",processKey:"process_leave",processName:"请假",userId:this.$store.getters.userId},baseData:i["a"],opType:7,options:[{value:7,label:"请假"},{value:18,label:"调休"}],duration:0,rules:{holidayType:[{required:!0,message:"请选择假期类型",trigger:"blur"}],startTime:[{required:!0,message:"开始时间",trigger:"blur"}],endTime:[{required:!0,message:"结束时间",trigger:"blur"}],reason:[{required:!0,message:"请填写原因",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;return Object(s["a"])(Object(o["a"])().mark((function e(){return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$refs.ruleForm.validate();case 3:return e.next=5,Object(n["g"])(t.ruleForm);case 5:t.$message.success("提交申请成功!"),t.$router.push("/dashboard"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},resetForm:function(){this.ruleForm={}},handleChange:function(e){this.state=e},getDuration:function(){var e=0;if(this.ruleForm.startTime&&this.ruleForm.endTime){var t=new Date(this.ruleForm.endTime).valueOf()-new Date(this.ruleForm.startTime).valueOf(),r=144e5,a=Math.floor(t/r);e=Math.floor(a/2)+a%2*.5}this.ruleForm.duration=e}}},c=u,m=r("2877"),d=Object(m["a"])(c,a,l,!1,null,null,null);t["default"]=d.exports}}]);