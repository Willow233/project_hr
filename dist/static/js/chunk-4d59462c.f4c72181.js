(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d59462c"],{"1eef":function(t,e,a){"use strict";a.d(e,"d",(function(){return i})),a.d(e,"b",(function(){return r})),a.d(e,"a",(function(){return s})),a.d(e,"e",(function(){return d})),a.d(e,"c",(function(){return o}));var n=a("b775");function i(){return Object(n["a"])({url:"/company/department"})}function r(t){return Object(n["a"])({url:"/company/department/".concat(t),method:"delete"})}function s(t){return Object(n["a"])({url:"/company/department",method:"post",data:t})}function d(t){return Object(n["a"])({url:"/company/department/".concat(t)})}function o(t){return Object(n["a"])({url:"/company/department/".concat(t.id),method:"put",data:t})}},"4b98":function(t,e,a){},7720:function(t,e,a){"use strict";a("4b98")},afc0:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"dashboard-container"},[a("div",{staticClass:"app-container"},[a("page-tools",{attrs:{"show-before":!0},scopedSlots:t._u([{key:"before",fn:function(){return[t._v(t._s(t.yearMonth)+" 考勤列表")]},proxy:!0}])}),a("el-card",{staticClass:"hr-block"},[a("div",{staticStyle:{width:"100%",position:"relative","overflow-x":"auto","overflow-y":"hidden"}},[a("div",{staticStyle:{width:"3000px"}},[a("table",{staticClass:"tableInfo",attrs:{border:"0",align:"center",cellpadding:"0",cellspacing:"0"}},[a("tr",[a("th",{attrs:{width:"50"}},[t._v("序号")]),a("th",{attrs:{width:"100"}},[t._v("姓名")]),a("th",{attrs:{width:"100"}},[t._v("工号")]),a("th",{attrs:{width:"200"}},[t._v("部门")]),a("th",{attrs:{width:"150"}},[t._v("手机")]),t._l(t.monthOfReport,(function(e,n){return a("th",{key:n,attrs:{width:"110"}},[t._v(t._s(t.attendInfo.month)+"/"+t._s(n+1))])}))],2),t._l(t.list,(function(e,n){return a("tr",{key:e.id},[a("td",{attrs:{width:"50"}},[t._v(t._s(n+1))]),a("td",{attrs:{width:"100"}},[t._v(t._s(e.username))]),a("td",{attrs:{width:"100"}},[t._v(t._s(e.workNumber))]),a("td",{attrs:{width:"200"}},[t._v(t._s(e.departmentName))]),a("td",{attrs:{width:"100"}},[t._v(t._s(e.mobile))]),t._l(e.attendanceRecord,(function(n,i){return a("td",{key:i,attrs:{width:"110"},on:{click:function(a){return t.showChangeDialog(e,i,n)}}},[1===n.adtStatu?a("span",[t._v("√")]):t._e(),2===n.adtStatu?a("span",[t._v("旷工")]):t._e(),3===n.adtStatu?a("span",[t._v("迟到")]):t._e(),4===n.adtStatu?a("span",[t._v("早退")]):t._e(),5===n.adtStatu?a("span",[t._v("外出")]):t._e(),6===n.adtStatu?a("span",[t._v("出差")]):t._e(),7===n.adtStatu?a("span",[t._v("年假")]):t._e(),8===n.adtStatu?a("span",[t._v("事假")]):t._e(),9===n.adtStatu?a("span",[t._v("病假")]):t._e(),10===n.adtStatu?a("span",[t._v("婚假")]):t._e(),11===n.adtStatu?a("span",[t._v("丧假")]):t._e(),12===n.adtStatu?a("span",[t._v("产假")]):t._e(),13===n.adtStatu?a("span",[t._v("奖励产假")]):t._e(),14===n.adtStatu?a("span",[t._v("陪产假")]):t._e(),15===n.adtStatu?a("span",[t._v("探亲假")]):t._e(),16===n.adtStatu?a("span",[t._v("工伤假")]):t._e(),17===n.adtStatu?a("span",[t._v("调休")]):t._e(),18===n.adtStatu?a("span",[t._v("产检假")]):t._e(),19===n.adtStatu?a("span",[t._v("流产假2")]):t._e(),20===n.adtStatu?a("span",[t._v("长期病假")]):t._e(),21===n.adtStatu?a("span",[t._v("测试架")]):t._e(),22===n.adtStatu?a("span",[t._v("补签")]):t._e()])}))],2)}))],2)])]),a("el-dialog",{attrs:{visible:t.centerDialogVisible,width:"500px",center:""},on:{"update:visible":function(e){t.centerDialogVisible=e}}},[a("span",{staticStyle:{color:"white"},attrs:{slot:"title"},slot:"title"},[t._v("修改考勤状态 - 日期："+t._s(t.attendInfo.month)+"月"+t._s(t.attendInfo.getDate)+"日")]),a("div",{staticClass:"attenInfo"},[a("p",{staticClass:"colRed"},[t._v("注：统计考勤时，异常状态优先正常状态")]),a("p",{staticClass:"check"},[a("el-radio-group",{model:{value:t.modifyData.adtStatu,callback:function(e){t.$set(t.modifyData,"adtStatu",e)},expression:"modifyData.adtStatu"}},t._l(t.stateData.vacationtype,(function(e){return a("el-radio",{key:e.id,attrs:{label:e.id,value:e.name}},[t._v(t._s(e.name))])})),1)],1)]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.btnOK}},[t._v("确定")]),a("el-button",{on:{click:function(e){t.centerDialogVisible=!1}}},[t._v("取消")])],1)]),a("el-row",{staticStyle:{height:"60px"},attrs:{type:"flex",align:"middle",justify:"center"}},[a("el-pagination",{attrs:{"page-size":t.page.pagesize,"current-page":t.page.page,layout:"prev, pager, next",total:t.page.total},on:{"current-change":t.pageChange}})],1)],1)],1)])},i=[],r=a("c7eb"),s=a("1da1"),d=(a("b0c0"),{holidayType:[{id:"1",value:"正常",isEnable:!1},{id:"2",value:"旷工",isEnable:!1},{id:"3",value:"事假",isEnable:!1},{id:"4",value:"调休",isEnable:!1},{id:"5",value:"迟到",isEnable:!1},{id:"6",value:"早退",isEnable:!1}],vacationtype:[{id:"1",name:"正常"},{id:"2",name:"旷工"},{id:"3",name:"迟到"},{id:"4",name:"早退"},{id:"5",name:"外出"},{id:"6",name:"出差"},{id:"7",name:"年假"},{id:"8",name:"事假"},{id:"9",name:"病假"},{id:"10",name:"婚假"},{id:"11",name:"丧假"},{id:"12",name:"产假"},{id:"13",name:"奖励产假"},{id:"14",name:"陪产假"},{id:"15",name:"探亲假"},{id:"16",name:"工伤假"},{id:"17",name:"调休"},{id:"18",name:"产检假"},{id:"19",name:"流产假"},{id:"20",name:"长期病假"},{id:"21",name:"测试假"},{id:"22",name:"补签"}],type:[{leaveType:"60000",name:"年假",isEnable:!1},{leaveType:"60100",name:"事假",isEnable:!1},{leaveType:"60200",name:"病假",isEnable:!1},{leaveType:"60300",name:"婚假",isEnable:!1},{leaveType:"60400",name:"丧假",isEnable:!1},{leaveType:"60500",name:"产假",isEnable:!1},{leaveType:"60600",name:"奖励产假",isEnable:!1},{leaveType:"60700",name:"陪产假",isEnable:!1},{leaveType:"60800",name:"探亲假",isEnable:!1},{leaveType:"60900",name:"工伤假",isEnable:!1},{leaveType:"61000",name:"调休假",isEnable:!1},{leaveType:"61100",name:"产检假",isEnable:!1},{leaveType:"61200",name:"流产假",isEnable:!1},{leaveType:"61300",name:"长期病假",isEnable:!1},{leaveType:"61400",name:"测试假",isEnable:!1}],departmentType:[{dedTypeCode:"51000",name:"迟到扣款",isEnable:!1,departmentId:"",periodLowerLimit:"30",periodUpperLimit:"30",timesLowerLimit:"2",timesUpperLimit:"2",dedAmonutLowerLimit:"30",dedAmonutUpperLimit:"0",absenceDays:"0.5",fineSalaryMultiples:"2",absenceTimesUpperLimt:"0"},{dedTypeCode:"52000",name:"早退扣款",isEnable:!1,departmentId:"",periodLowerLimit:"30",periodUpperLimit:"30",timesLowerLimit:"2",timesUpperLimit:"2",dedAmonutLowerLimit:"30",dedAmonutUpperLimit:"0",absenceDays:"0.5",fineSalaryMultiples:"2",absenceTimesUpperLimt:"0"},{dedTypeCode:"53000",name:"旷工扣款",isEnable:!1,departmentId:"",periodLowerLimit:"30",periodUpperLimit:"30",timesLowerLimit:"2",timesUpperLimit:"2",dedAmonutLowerLimit:"30",dedAmonutUpperLimit:"0",absenceDays:"0.5",fineSalaryMultiples:"2",absenceTimesUpperLimt:"0"}],overtimeType:[{departmentId:"",rule:"工作日可申请加班",ruleStartTime:"",ruleEndTime:"",isTimeOff:!1,isEnable:!1},{departmentId:"",rule:"休息日可申请加班",ruleStartTime:"",ruleEndTime:"",isTimeOff:!1,isEnable:!1},{departmentId:"",rule:"法定节假日可申请加班",ruleStartTime:"",ruleEndTime:"",isTimeOff:!1,isEnable:!1}]}),o=a("f1e3"),l=a("1eef"),c={name:"Attendances",data:function(){return{loading:!1,list:[],selectData:[],stateData:d,departments:[],total:0,attendanceRecord:"",monthOfReport:"",centerDialogVisible:!1,month:"",yearMonth:"",attendInfo:{month:"",getDate:"",getInfo:"",name:"",counts:"",tobeTaskCount:""},page:{page:1,pagesize:10,total:0},modifyData:{userId:"",day:"",adtStatu:""}}},created:function(){this.getAttendancesList(),this.getDepartments()},methods:{getDepartments:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var a,n;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["d"])();case 2:a=e.sent,n=a.depts,t.departments=n;case 5:case"end":return e.stop()}}),e)})))()},getAttendancesList:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){var a,n,i,s,d,l,c,u;return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(o["b"])(t.page);case 3:a=e.sent,n=a.data,i=a.monthOfReport,s=a.tobeTaskCount,t.list=n.rows,t.page.total=n.total,t.attendInfo.counts=n.total,t.attendInfo.month=i,t.attendInfo.tobeTaskCount=s,d=new Date,l=d.getFullYear(),c=i,u=new Date(l,c,0),t.monthOfReport=u.getDate(),t.yearMonth=l+(""+c<10?"0"+c:c),t.month=i,t.loading=!1;case 20:case"end":return e.stop()}}),e)})))()},btnOK:function(){var t=this;return Object(s["a"])(Object(r["a"])().mark((function e(){return Object(r["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])(t.modifyData);case 2:t.centerDialogVisible=!1,t.getAttendancesList();case 4:case"end":return e.stop()}}),e)})))()},pageChange:function(t){this.page.page=t,this.getAttendancesList()},showChangeDialog:function(t,e,a){this.modifyData.userId=t.id,this.modifyData.day=a.day,this.modifyData.departmentId=t.departmentId,this.modifyData.adtStatu=a.adtStatu+"",""!==a.adtStatu&&(this.attendInfo.getDate=parseInt(e+1),this.attendInfo.getInfo=a.adtStatu,this.attendInfo.name=t.name,this.centerDialogVisible=!0)}}},u=c,p=(a("7720"),a("2877")),m=Object(p["a"])(u,n,i,!1,null,"7a3af87d",null);e["default"]=m.exports},f1e3:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return r})),a.d(e,"c",(function(){return s}));a("99af");var n=a("b775");function i(t){return Object(n["a"])({url:"/attendances",params:t})}function r(t){return Object(n["a"])({url:"/attendances/archive/".concat(t.userId,"/").concat(t.yearMonth)})}function s(t){return Object(n["a"])({url:"/attendances/".concat(t.userId),method:"put",data:t})}}}]);